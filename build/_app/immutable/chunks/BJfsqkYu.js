import{B as e,C as t,D as a,E as r,F as n,G as o,I as s,f as l,a as i,g as u,J as d,s as v,d as c,K as f,e as p,L as h,M as m,N as g,O as _,P as w,Q as y,c as b,R as x,t as E,i as L,h as j,x as M}from"./CPPGdakl.js";import{r as S}from"./f2D4MGqN.js";import{b as T}from"./CkyDHHdu.js";const k=["touchstart","touchmove"],C=new Set,N=new Set;function O(s){var l,i=this,u=i.ownerDocument,d=s.type,v=(null==(l=s.composedPath)?void 0:l.call(s))||[],c=v[0]||s.target,f=0,p=s.__root;if(p){var h=v.indexOf(p);if(-1!==h&&(i===document||i===window))return void(s.__root=i);var m=v.indexOf(i);if(-1===m)return;h<=m&&(f=h)}if((c=v[f]||s.target)!==i){e(s,"currentTarget",{configurable:!0,get:()=>c||u});var g=n,_=o;t(null),a(null);try{for(var w,y=[];null!==c;){var b=c.assignedSlot||c.parentNode||c.host||null;try{var x=c["__"+d];if(null!=x&&(!c.disabled||s.target===c))if(r(x)){var[E,...L]=x;E.apply(c,[s,...L])}else x.call(c,s)}catch(j){w?y.push(j):w=j}if(s.cancelBubble||b===i||null===b)break;c=b}if(w){for(let e of y)queueMicrotask((()=>{throw e}));throw w}}finally{s.__root=i,delete s.currentTarget,t(g),a(_)}}}function P(e,t){var a=null==t?"":"object"==typeof t?t+"":t;a!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=a,e.nodeValue=a+"")}function B(e,t){return $(e,t)}function D(e,t){s(),t.intro=t.intro??!1;const a=t.target,r=j,n=p;try{for(var o=l(a);o&&(8!==o.nodeType||o.data!==i);)o=u(o);if(!o)throw d;v(!0),c(o),f();const r=$(e,{...t,anchor:o});if(null===p||8!==p.nodeType||p.data!==h)throw m(),d;return v(!1),r}catch(w){if(w===d)return!1===t.recover&&g(),s(),_(a),v(!1),B(e,t);throw w}finally{v(r),c(n),S()}}const V=new Map;function $(e,{target:t,anchor:a,props:r={},events:n,context:l,intro:i=!0}){s();var u=new Set,d=e=>{for(var a=0;a<e.length;a++){var r=e[a];if(!u.has(r)){u.add(r);var n=(s=r,k.includes(s));t.addEventListener(r,O,{passive:n});var o=V.get(r);void 0===o?(document.addEventListener(r,O,{passive:n}),V.set(r,1)):V.set(r,o+1)}}var s};d(w(C)),N.add(d);var v=void 0,c=y((()=>{var s=a??t.appendChild(b());return x((()=>{l&&(E({}),L.c=l),n&&(r.$$events=n),j&&T(s,null),v=e(s,r)||{},j&&(o.nodes_end=p),l&&M()})),()=>{var e;for(var r of u){t.removeEventListener(r,O);var n=V.get(r);0==--n?(document.removeEventListener(r,O),V.delete(r)):V.set(r,n)}N.delete(d),s!==a&&(null==(e=s.parentNode)||e.removeChild(s))}}));return q.set(v,c),v}let q=new WeakMap;function F(e,t){const a=q.get(e);return a?(q.delete(e),a(t)):Promise.resolve()}export{D as h,B as m,P as s,F as u};
